"use strict";var signin=function(){if($(".login .content input").blur(),0==$(".login .content input.err").length&&!$(".sign-btn").attr("disabled")){$(".sign-btn").attr("disabled","true"),$(".login .loading").show();var a=$("#lemail").val(),e=$("#lpassword").val();$.ajax({url:"/api/account/login",type:"POST",data:{email:a,password:e},success:function(a){ajaxSuccess(a,function(){window.location.href="/"},$(".sign-btn")),$(".login .loading").hide()}})}},register=function(){if($(".register .content input").blur(),0==$(".register .content input.err").length&&!$(".create-btn").attr("disabled")){$(".create-btn").attr("disabled","true");var a=$("#rfirstname").val(),e=$("#rlastname").val(),t=$("#remail").val(),r=$("#rpassword").val(),n=$("#repeat_password").val();$(".register .loading").show(),$.ajax({url:"/api/account/register",type:"POST",data:{firstname:a,lastname:e,email:t,password:r,password_confirm:n},success:function(a){ajaxSuccess(a,function(){window.location.href="/"},$(".create-btn")),$(".register .loading").hide()}})}};$(function(){$(".login-register .facebook,.login-register .google").on("click",function(){openWin($(this).attr("data-url")),checkSocalLogin("/")}),$(".login-register input").on("blur",function(){var a=$(this),e=a.prop("id"),t=a.siblings(".err-msg"),r=a.val(),n=!0;if(r){if("lemail"==e||"remail"==e)/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(r)||(t.html("Email format is incorrect"),n=!1);if("rpassword"==e||"repeat_password"==e)/^(?![\d]+$)(?![a-zA-Z]+$)(?![!@#$%^&*+=-_]+$)[\da-zA-Z!@#$%^&*+=-_]{6,20}$/.test(r)||(t.html("Please enter a password between 6-25 characters long and contains both letters and numbers. Special characters are not allowed."),n=!1),"repeat_password"==e&&r!=$("#rpassword").val()&&(t.html("Your passwords do not match. Please confirm your password."),n=!1)}else t.html("This is a required field"),n=!1;n?(a.removeClass("err"),t.html("")):a.addClass("err")}),$(".sign-btn").on("click",function(){signin()}),$(".create-btn").on("click",function(){register()})});